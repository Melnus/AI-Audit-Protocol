<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pithos | AI Protocol</title>
    
    <!-- Font & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root { --bg: #000; --fg: #fff; --dim: #666; --border: 1px solid #fff; --accent: #00ff41; }
        * { box-sizing: border-box; }
        body { margin: 0; background: var(--bg); color: var(--fg); font-family: 'JetBrains Mono', monospace; padding: 20px; }

        .container { max-width: 600px; margin: 0 auto; }
        
        header { text-align: center; border-bottom: var(--border); padding-bottom: 20px; margin-bottom: 30px; }
        h1 { margin: 0; font-size: 1.5rem; letter-spacing: 2px; }
        
        .card { border: var(--border); padding: 20px; margin-bottom: 20px; background: #111; }
        label { display: block; color: var(--dim); font-size: 0.8rem; margin-bottom: 5px; }
        input { 
            width: 100%; background: #000; border: 1px solid #444; color: #fff; 
            padding: 10px; font-family: inherit; font-size: 1rem; outline: none;
        }
        input:focus { border-color: var(--accent); }

        /* PROMPT BOX */
        .prompt-box {
            position: relative;
            background: #0a0a0a; border: 1px dashed var(--dim);
            padding: 15px; font-size: 0.7rem; color: #aaa;
            height: 300px; overflow-y: auto; white-space: pre-wrap;
            margin-bottom: 20px;
        }

        .btn {
            width: 100%; padding: 15px; background: var(--accent); color: #000;
            border: none; font-weight: bold; cursor: pointer; font-size: 1rem;
            display: flex; align-items: center; justify-content: center; gap: 10px;
        }
        .btn:active { transform: scale(0.98); }

        .step { margin-bottom: 10px; font-size: 0.9rem; }
        .step i { color: var(--accent); width: 20px; }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <i class="fas fa-robot" style="font-size: 2rem; color: var(--accent); margin-bottom: 10px;"></i>
            <h1>AI AUDIT PROTOCOL</h1>
            <div style="font-size: 0.7rem; color: #888;">GENERATE SBCM PROMPT</div>
        </header>

        <!-- CONFIG -->
        <div class="card">
            <label>TARGET CITY (è‡ªæ²»ä½“å)</label>
            <input type="text" id="city" placeholder="ä¾‹: æŸå¸‚" oninput="updatePrompt()">
            
            <label style="margin-top:15px;">POPULATION (äººå£ / æ¦‚ç®—)</label>
            <input type="number" id="pop" placeholder="ä¾‹: 430000" oninput="updatePrompt()">
        </div>

        <!-- GENERATED PROMPT -->
        <div class="prompt-box" id="prompt-area">
            <!-- Text injected via JS -->
        </div>

        <button class="btn" onclick="copyPrompt()">
            <i class="fas fa-copy"></i> COPY PROTOCOL
        </button>
        
        <div style="margin-top: 30px; border-top: 1px solid #333; padding-top: 20px;">
            <div style="font-weight:bold; margin-bottom:10px;">ä½¿ã„æ–¹:</div>
            <div class="step"><i class="fas fa-check"></i> 1. ä¸Šè¨˜ã®ãƒœã‚¿ãƒ³ã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹</div>
            <div class="step"><i class="fas fa-check"></i> 2. ChatGPT / Gemini / Claude ã‚’é–‹ã</div>
            <div class="step"><i class="fas fa-check"></i> 3. æ±ºç®—æ›¸PDFã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è²¼ã‚Šä»˜ã‘ã¦é€ä¿¡</div>
        </div>
    </div>

    <script>
        function updatePrompt() {
            const city = document.getElementById('city').value || "å¯¾è±¡è‡ªæ²»ä½“";
            const pop = document.getElementById('pop').value || "ä¸æ˜";
            
            const text = `ã‚ãªãŸã¯ã€Œå†·å¾¹ãªè¡Œæ”¿çµŒå–¶ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆã€ã§ã™ã€‚
æ·»ä»˜ã•ã‚ŒãŸæ±ºç®—æ›¸ãƒ»äº‹æ¥­å ±å‘Šæ›¸ã«åŸºã¥ãã€ä»¥ä¸‹ã®ã€ŒSBCMï¼ˆæ¨™æº–ãƒ–ãƒ­ãƒƒã‚¯æ¯”è¼ƒæ³•ï¼‰ã€ã‚’ç”¨ã„ã¦ã€äº‹æ¥­ã®æ­ªã¿ã‚’ç›£æŸ»ã—ã¦ãã ã•ã„ã€‚

## 1. ç›£æŸ»å¯¾è±¡ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
*   **è‡ªæ²»ä½“å:** ${city}
*   **äººå£:** ${pop} äºº
*   **æ¨™æº–ãƒ–ãƒ­ãƒƒã‚¯ä¿‚æ•° (S_factor):** ${pop} / 72176 (æ¨™æº–è‡ªæ²»ä½“äººå£)

## 2. ç›£æŸ»ãƒ­ã‚¸ãƒƒã‚¯ (SBCM)
å„äº‹æ¥­ã«ã¤ã„ã¦ã€ä»¥ä¸‹ã®æŒ‡æ¨™ã‚’è¨ˆç®—ã—ã€ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚

1.  **äºˆç®—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆ (I_budget):**
    *   å¼: æ±ºç®—é¡ Ã· (3000ä¸‡å†† Ã— S_factor)
    *   æ„å‘³: è‡ªæ²»ä½“è¦æ¨¡ã«å¯¾ã—ã¦ã€æ¨™æº–çš„ãªäº‹æ¥­ã®ä½•å€ã®ã‚³ã‚¹ãƒˆã‹ã€‚
2.  **æ™®åŠã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆ (I_coverage):**
    *   å¼: æ¨å®šåˆ©ç”¨è€…æ•° Ã· (72000äºº Ã— S_factor)
    *   æ„å‘³: ä½æ°‘å…¨ä½“ã«å¯¾ã—ã¦ã€ã©ã‚Œã ã‘æ™®åŠã—ã¦ã„ã‚‹ã‹ã€‚
3.  **æ­ªã¿æŒ‡æ•° (D_index):**
    *   å¼: I_budget Ã· I_coverage
    *   **åˆ¤å®šåŸºæº–:**
        *   D < 1.0 : âœ… é«˜åŠ¹ç‡ (Excellent)
        *   D > 10.0 : âš ï¸ æ­ªã¿ (Distortion)
        *   D > 50.0 : ğŸš¨ ç•°å¸¸å€¤ (SCAM)

## 3. å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
ä»¥ä¸‹ã®ã‚«ãƒ©ãƒ ã‚’æŒã¤Markdownãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã€ç‰¹ã«ã€ŒD_index > 10ã€ã®äº‹æ¥­ã‚’å„ªå…ˆçš„ã«ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã—ã¦ãã ã•ã„ã€‚

| äº‹æ¥­å | æ±ºç®—é¡ | åˆ©ç”¨è€…æ•° | D_index | åˆ¤å®š | è¾›å£ã‚³ãƒ¡ãƒ³ãƒˆ |
|---|---|---|---|---|---|
| ... | ... | ... | ... | ... | ... |

â€» åˆ©ç”¨è€…æ•°ãŒä¸æ˜ãªå ´åˆã¯ãƒ•ã‚§ãƒ«ãƒŸæ¨å®šã‚’è¡Œã„ã€ãã®æ ¹æ‹ ã‚’æ˜è¨˜ã™ã‚‹ã“ã¨ã€‚
â€» æ„Ÿæƒ…ã‚’æ’ã—ã€æ•°å­—ã«åŸºã¥ã„ã¦å†·å¾¹ã«è©•ä¾¡ã™ã‚‹ã“ã¨ã€‚`;

            document.getElementById('prompt-area').innerText = text;
        }

        function copyPrompt() {
            const text = document.getElementById('prompt-area').innerText;
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.querySelector('.btn');
                const original = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> COPIED!';
                btn.style.background = "#fff";
                setTimeout(() => { 
                    btn.innerHTML = original; 
                    btn.style.background = "var(--accent)";
                }, 2000);
            });
        }

        // Init
        updatePrompt();
    </script>
</body>
</html>